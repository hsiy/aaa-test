<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>..\AACForm\makeReports\templates\makeReports\AACAdmin\create_account.html</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/addSLO.html">addSLO</a></li>
                                <li><a href="../classes/assessmentBoxes.html">assessmentBoxes</a></li>
                                <li><a href="../classes/choice-widget-stk.html">choice-widget-stk</a></li>
                                <li><a href="../classes/choices-widget.html">choices-widget</a></li>
                                <li><a href="../classes/create_account.html">create_account</a></li>
                                <li><a href="../classes/csvManagement.html">csvManagement</a></li>
                                <li><a href="../classes/dataCollectionSummary.html">dataCollectionSummary</a></li>
                                <li><a href="../classes/editNewSLO.html">editNewSLO</a></li>
                                <li><a href="../classes/grading_section.html">grading_section</a></li>
                                <li><a href="../classes/graphing.html">graphing</a></li>
                                <li><a href="../classes/graphingDept.html">graphingDept</a></li>
                                <li><a href="../classes/importAssessment.html">importAssessment</a></li>
                                <li><a href="../classes/importAssessmentSLO.html">importAssessmentSLO</a></li>
                                <li><a href="../classes/importAssessmentSupplement.html">importAssessmentSupplement</a></li>
                                <li><a href="../classes/importSLO.html">importSLO</a></li>
                                <li><a href="../classes/importStakeholderComm.html">importStakeholderComm</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: ..\AACForm\makeReports\templates\makeReports\AACAdmin\create_account.html</h1>

<div class="file">
    <pre class="code prettyprint linenums">
{% extends &#x27;base.html&#x27; %}
{% load bootstrap4 %}
{% block scripts %}
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2.6.0&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;//unpkg.com/babel-polyfill@latest/dist/polyfill.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&#x27;text/javascript&#x27;&gt;&lt;/script&gt;
&lt;div id=&quot;vapp&quot;&gt;
{% endblock %}
{% block styles %}
&lt;meta charset=&#x27;utf-8&#x27; /&gt;
{% endblock %}
{% block content %}
{% load static %}
&lt;h3&gt;Create New Account&lt;/h3&gt;
{{ form.non_field_errors }}

&lt;form method=&quot;post&quot; class=&quot;form col-6&quot; enctype=&quot;multipart/form-data&quot; @submit.prevent=&quot;&quot; ref=&quot;form&quot;&gt;
    {% csrf_token %}
    &lt;div class=&quot;form-group&quot;&gt;
            &lt;p style=&quot;color:red;&quot;&gt;{{ form.first_name.errors }}&lt;/p&gt;
            &lt;label for=&quot;id_first_name&quot;&gt;First name&lt;/label&gt;

            &lt;input type=&quot;text&quot; class=&quot;form-control col-6&quot; id=&quot;id_first_name&quot; name=&quot;first_name&quot; value={{form.initial.first_name}}&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
            &lt;p style=&quot;color:red;&quot;&gt;{{ form.last_name.errors }}&lt;/p&gt;
            &lt;label for=&quot;id_last_name&quot;&gt;Last name&lt;/label&gt;

            &lt;input type=&quot;text&quot; class=&quot;form-control col-6&quot; id=&quot;id_last_name&quot; name=&quot;last_name&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        &lt;p style=&quot;color:red;&quot;&gt;{{ form.email.errors }}&lt;/p&gt;
            &lt;label for=&quot;id_email&quot;&gt;Email&lt;/label&gt;

            &lt;input type=&quot;email&quot; name=&quot;email&quot; class=&quot;form-control col-6&quot; maxlength=&quot;254&quot; id=&quot;id_email&quot;&gt;
    &lt;/div&gt;&lt;div class=&quot;form-group&quot;&gt;
        &lt;p style=&quot;color:red;&quot;&gt;{{ form.username.errors }}&lt;/p&gt;
            &lt;label for=&quot;id_username&quot;&gt;Username&lt;/label&gt;

            &lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;form-control col-6&quot; id=&quot;id_username&quot; required=&quot;required&quot;&gt;
    &lt;/div&gt;&lt;div class=&quot;form-group&quot;&gt;
        &lt;p style=&quot;color:red;&quot;&gt;{{ form.password1.errors }}&lt;/p&gt;
            {% if form.password1.errors %}
                {{form.password1.help_text}}
            {% endif %}
                &lt;label for=&quot;id_password1&quot;&gt;Password&lt;/label&gt;

            &lt;input type=&quot;password&quot; class=&quot;form-control col-6&quot; id=&quot;id_password1&quot; name=&quot;password1&quot; required=&quot;required&quot;&gt;
    &lt;/div&gt;&lt;div class=&quot;form-group&quot;&gt;
            &lt;p style=&quot;color:red;&quot;&gt;{{ form.password2.errors }}&lt;/p&gt;
            &lt;label for=&quot;id_password2&quot;&gt;Re-enter Password&lt;/label&gt;

            &lt;input type=&quot;password&quot; name=&quot;password2&quot; class=&quot;form-control col-6&quot; id=&quot;id_password2&quot; required=&quot;required&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        &lt;p style=&quot;color:red;&quot;&gt;{{ form.college.errors }}&lt;/p&gt;
            &lt;label for=&quot;id_college&quot;&gt;College&lt;/label&gt;

            &lt;select class=&quot;form-control col-6&quot; id=&quot;id_college&quot; v-model=&quot;college&quot; v-on:change=&quot;updateDept&quot; name=&quot;college&quot;&gt;
                &lt;option value = &quot;&quot;&gt;&lt;/option&gt;    
                {% for option in form.fields.college.queryset %}
                    &lt;option value=&quot;{{option.pk}}&quot;&gt;{{option}}&lt;/option&gt;
                    {% endfor %}
            &lt;/select&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        &lt;p style=&quot;color:red;&quot;&gt;{{ form.department.errors }}&lt;/p&gt;
        &lt;template v-if=&quot;error&quot; &gt;
           &lt;p style=&quot;color:red;&quot;&gt; If a college is selected, a department must be as well.&lt;/p&gt;
        &lt;/template&gt;
            &lt;label for=&quot;id_department&quot;&gt;Department&lt;/label&gt;
            &lt;select class=&quot;form-control col-6&quot; id=&quot;id_department&quot; v-model=&quot;department&quot; name=&quot;department&quot;&gt;
                &lt;option value = &quot;&quot;&gt;&lt;/option&gt;
                &lt;template v-for=&quot;d in depts&quot;&gt;
                    &lt;option v-bind:value=&quot;d.pk&quot;&gt;[[d.name]]&lt;/option&gt;
                &lt;/template&gt;
            &lt;/select&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-check&quot;&gt;
        &lt;p style=&quot;color:red;&quot;&gt;{{ form.isaac.errors }}&lt;/p&gt;
            &lt;input type=&quot;checkbox&quot; class=&quot;form-check-input&quot; id=&quot;id_isaac&quot; name=&quot;isaac&quot;&gt;
            &lt;label class=&quot;form-check-label&quot; for=&quot;id_isaac&quot;&gt;AAC Member &lt;/label&gt;
    &lt;/div&gt;
    {% buttons %}
        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; @click=&quot;vSubmit&quot;&gt;Add&lt;/button&gt;
    {% endbuttons %}
&lt;/form&gt;
{% endblock %}
{% block endscripts %}
    &lt;script&gt;
    /**
     * Vue instance to control create account page
     * 
     * @class create_account
     * 
     */
    var create_account=new Vue({
            el: &#x27;#vapp&#x27;,
            delimiters: [&#x27;[[&#x27;, &#x27;]]&#x27;],
            data: { 
                /**
                 * Deparment (primary key) chosen
                 * @property department
                 * @type integer
                 */
                department: null,
                /**
                 * List of departments with properties to choose within college
                 * @property depts
                 * @type dictionary
                 */
                depts: null,
                /**
                 * Primary key of college chosen
                 * @property college
                 * @type integer
                 */
                college: null,
                /**
                 * Whether there was an error upon submission between the college and dept
                 * @property error
                 * @type Boolean
                 */
                error: false
            },
            computed: {
            },
            methods: {
                /**
                 * Calls the API to get the departments within the college
                 * @method updateDept
                 */
                updateDept: function () {
                    fetch(&quot;{% url &#x27;makeReports:api-dept-by-col&#x27; %}?college=&quot;+this.college)
                        .then(response =&gt; {
                            response.clone().json()
                        .then(json =&gt; {
                            this.depts = json;
                        })
                    });
                },
                /**
                 * Makes sure if a college is chosen so is a department before submitting
                 * @method vSubmit
                 */
                vSubmit: function(){
                    console.log(&quot;here&quot;)
                    if (this.college==null || this.college ==&quot;&quot;
                         || ((this.college!=null &amp;&amp; this.college !=&quot;&quot;) &amp;&amp; 
                         (this.department!=null &amp;&amp; this.department!=&quot;&quot;))){
                        create_account.$refs.form.submit()
                    }else{
                        this.error = true
                    }
                }
            }
        });
    &lt;/script&gt;
    {% endblock %}

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
